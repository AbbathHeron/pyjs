import sys
import os

import pyjd
from pyjs.runners import RunnerManager


pyjdversion = %r
pyjdinitpth = %r


_manager = RunnerManager()
_manager.set_conf()
for key, value in _manager._conf.iteritems():
    setattr(pyjd, key, value)
_manager.set_runner()


sys.path += [os.path.join(pyjdinitpth, 'library')]
#TODO: this looks useless ...
sys.path = [os.path.join(pyjdinitpth, 'pygtkweb', 'library')] + sys.path


add_setup_callback = _manager.add_setup_listener
setup = _manager.setup
run = _manager.run
